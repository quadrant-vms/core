# =========================================================
# Quadrant VMS - Docker Compose Environment Configuration
# =========================================================
# Copy this file to .env and customize for your deployment
# =========================================================

# =========================================================
# Infrastructure Configuration
# =========================================================

# PostgreSQL Database
POSTGRES_USER=vms
POSTGRES_PASSWORD=vms123
POSTGRES_DB=quadrant_vms
POSTGRES_PORT=5432

# MinIO S3 Storage
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# Redis Cache
REDIS_PORT=6379

# =========================================================
# S3 Storage Configuration
# =========================================================
S3_ENDPOINT=http://minio:9000
S3_REGION=us-east-1
S3_BUCKET=vms-streams

# =========================================================
# Coordinator Service
# =========================================================
COORDINATOR_PORT=8082
COORDINATOR_NODE_ID=coordinator-1

# Lease Configuration
LEASE_DEFAULT_TTL_SECS=30
LEASE_MAX_TTL_SECS=300

# Clustering (set to true for multi-node deployment)
CLUSTER_ENABLED=false
# CLUSTER_PEERS=coordinator-2:8082,coordinator-3:8082

# =========================================================
# Authentication Service
# =========================================================
AUTH_SERVICE_PORT=8086

# JWT Configuration
JWT_SECRET=change-this-secret-in-production-use-a-long-random-string
JWT_EXPIRY_HOURS=24
API_TOKEN_EXPIRY_DAYS=90

# =========================================================
# Device Manager Service
# =========================================================
DEVICE_MANAGER_PORT=8087

# Health Check Configuration
HEALTH_CHECK_INTERVAL_SECS=60
DISCOVERY_TIMEOUT_SECS=10

# =========================================================
# Stream Node Service
# =========================================================
STREAM_NODE_PORT=8080

# =========================================================
# Recorder Node Service
# =========================================================
RECORDER_NODE_PORT=8085

# =========================================================
# AI Service
# =========================================================
AI_SERVICE_PORT=8088
AI_NODE_ID=ai-1

# AI Model Configuration
YOLOV8_MODEL_PATH=/models/yolov8n.onnx

# GPU Acceleration (set to true if NVIDIA GPU available)
ENABLE_GPU=false

# =========================================================
# Alert Service
# =========================================================
ALERT_SERVICE_PORT=8089

# Email Notification Configuration (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@vms.local

# =========================================================
# Playback Service
# =========================================================
PLAYBACK_SERVICE_PORT=8084

# HLS Configuration
HLS_BASE_URL=http://localhost:8084/hls

# Cache Configuration
CACHE_ENABLED=true
CACHE_MAX_SIZE_MB=512
CACHE_TTL_SECS=300

# =========================================================
# Admin Gateway Service
# =========================================================
ADMIN_GATEWAY_PORT=8081
GATEWAY_NODE_ID=gateway-1

# State Store (set to true for stateless HA deployment)
ENABLE_STATE_STORE=false

# =========================================================
# Operator UI Service
# =========================================================
OPERATOR_UI_PORT=8090

# =========================================================
# Logging Configuration
# =========================================================
RUST_LOG=info

# Options: trace, debug, info, warn, error
# For more verbose logging: RUST_LOG=debug
# For service-specific logging: RUST_LOG=coordinator=debug,admin_gateway=info
